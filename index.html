<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script src="FileSaver.min.js"></script>
    <script src="canvas-toBlob.js"></script>
  </head>

  <body>
    <div id="esquerda">
      <div id="esquerdaSuperior">
        <div id="canvasSize">
          <h2>Canvas Size</h2>
          <div id="sizeInputs">
            <label for="tileOrPixel">Dimensions in tiles</label><br>
            <input type="checkbox" id="tileOrPixel" name="tileOrPixel" value="pixels"><br>
            <label for="mapCanvasW">Width:</label><br>
            <input type="text" id="mapCanvasW" name="mapCanvasW" value="992"><br>
            <label for="mapCanvasH">Height:</label><br>
            <input type="text" id="mapCanvasH" name="mapCanvasH" value="320"><br>
            <button type="submit" onclick="changeCanvasSize()">Submit</button>
          </div>
        </div>
        <div id="submitFiles">
          <h2>Use image as Bottom Layer</h2>
          <input type="file" accept="image/*" id="bottomFile" name="bottomfile" onchange="loadFile(event,mapCanvas)">
          <h2>Use image as Top Layer</h2>
          <input type="file" accept="image/*" id="topFile" name="topfile" onchange="loadFile(event,topCanvas)">
        </div>
        <div id="drawSettings">
          <div id="drawButtons">
            <h2 style="border:1px solid #000000;">D</h2>
            <h2 style="border:1px solid #000000;">D</h2>
          </div>
          <input type="radio" id="bottomRadio" name="buttonRadio" value="bottomRadio" checked="checked" onclick="setCurrentCanvas()">
          <label for="bottomRadio">Bottom Layer</label><br>
          <input type="radio" id="topRadio" name="buttonRadio" value="topRadio" onclick="setCurrentCanvas()">
          <label for="topRadio">Top Layer</label><br>
          <input type="radio" id="bothRadio" name="buttonRadio" value="bothRadio" onclick="setCurrentCanvas()">
          <label for="bothRadio">Both (erase only)</label>
        </div>
      </div>
      <div id="esquerdaCanvas">
        <canvas id="mapCanvas" width="992px" height="320px" onclick="console.log('bottom')"></canvas>
        <canvas id="topCanvas" width="992px" height="320px" onclick="console.log('top')"></canvas>
        <canvas id="gridCanvas" width="992px" height="320px" onclick="console.log('grid')"></canvas>
      </div>
      <div id="esquerdaInferior">
        <button onclick="download(mapCanvas)">Export Bottom Layer</button>
        <button onclick="download(topCanvas)">Export Top Layer</button>
        <button onclick="download(mapCanvas)">Export Full Map</button>
      </div>
    </div> 
    <div id="direita">
      <form action="/action_page.php">
        <input type="file" id="myFile" name="filename">
      </form>
      <canvas id="tileCanvas" width="192px" height="400px"></canvas>
    </div>
    <script src="index.js"></script>
  </body>
</html>
